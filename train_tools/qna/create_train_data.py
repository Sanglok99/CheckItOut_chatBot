from openai import OpenAI
import pandas as pd

client = OpenAI(
    # This is the default and can be omitted
    api_key="(내 openAI api key)"
)

# 100개의 예제 질문 리스트
questions = [
    "조선 시대에 관한 책 추천해줘", "세계사 책 중 흥미로운 것 있어?", "프로그래밍 입문서 추천해 줄래?", "인공지능 기초 책 뭐가 좋아?",
    "현대 미술에 대한 책 추천해줘", "경제학 입문서로 좋은 책 뭐 있어?", "환경 보호에 관한 책 추천해줄래?", "고전 철학에 대한 책 뭐가 좋을까?",
    "프랑스 혁명에 대해 배울 수 있는 책 있어?", "중세 유럽 역사 책 추천해줘", "데이터 과학 입문서 추천해줄래?", "한국 문학 소설 추천해줘",
    "AI 발전사를 다룬 책 뭐가 좋을까?", "심리학 기초 책 추천 부탁해", "마케팅 전략에 대한 책 추천해줘", "음악 이론 기초서 추천해줄래?",
    "신경과학에 대한 입문서 추천해줘", "생명공학 기초 책 뭐가 있어?", "고대 이집트 역사책 추천해줄래?", "수학 이론서 추천 부탁해",
    "리더십에 관한 책 뭐가 좋을까?", "프로그래밍 고급서 추천해줄래?", "로마 제국에 대한 책 추천해줘", "현대 시 추천해줄래?",
    "자기계발 서적 중 추천할만한 것 있어?", "예술사 기초 책 추천해줘", "러시아 혁명 관련 도서 추천 부탁해", "건축 디자인 입문서 추천해줘",
    "독일 철학에 대한 책 뭐가 좋을까?", "양자 물리학 입문서 추천 부탁해", "조경 디자인에 대한 책 뭐가 있을까?", "고대 그리스 역사서 추천해줘",
    "전쟁사에 대한 책 추천해줄래?", "경제 위기 다룬 책 뭐가 좋을까?", "현대 물리학에 대한 입문서 추천해줘", "서양 철학 고전 추천해줘",
    "영화 이론 기초서 추천 부탁해", "데이터 분석 책 추천해줄래?", "한국 근대사 다룬 책 뭐가 있어?", "패션 디자인 입문서 추천해줘",
    "생태학 기초서 추천해줄래?", "미국 역사에 대한 책 추천해줘", "천문학 입문서 추천 부탁해", "동양 철학에 대한 책 추천해줄래?",
    "윤리학 기초서 추천 부탁해", "현대 건축론 관련 책 추천해줘", "물리학 고전 추천 부탁해", "범죄학 입문서 추천해줄래?",
    "영문학 소설 추천해줘", "역사철학에 관한 책 뭐가 좋을까?", "창의성 개발 책 추천해줘", "사상사 기초서 추천 부탁해",
    "바이오메디컬 공학에 관한 책 뭐가 좋을까?", "심리학 고전 추천해줘", "로봇공학에 대한 입문서 추천해줄래?", "정보이론 관련 책 추천해줘",
    "영양학 기초서 추천 부탁해", "지구과학 책 뭐가 있어?", "스페인 역사에 대한 책 추천해줄래?", "문예 창작 입문서 추천 부탁해",
    "연극 이론 기초 책 추천해줘", "고대 아시아 역사서 추천해줄래?", "인문학 입문서 추천해줄래?", "철학 입문서로 좋은 책 있어?",
    "인도 문명사 다룬 책 뭐가 좋아?", "한국 건축사 관련 책 추천 부탁해", "생물학 고전 추천해줘", "인권에 관한 책 추천 부탁해",
    "사회학 이론서 추천 부탁해", "일본 근대사 관련 책 추천해줄래?", "사이버 보안 기초 책 뭐가 있어?", "고대 중국 역사서 추천 부탁해",
    "언어학 입문서 추천해줘", "성격 이론 관련 책 추천해줄래?", "프랑스 문학 고전 추천 부탁해", "아프리카 역사 다룬 책 뭐 있어?",
    "자연 재해에 관한 책 추천해줄래?", "빅데이터 분석 입문서 추천 부탁해", "심리 치료에 관한 책 추천해줄래?", "인공지능 윤리에 대한 책 추천 부탁해",
    "고전 건축에 관한 책 추천해줘", "창업 관련 책 추천 부탁해", "프로그래밍 알고리즘 책 추천해줄래?", "도시 계획에 관한 책 뭐가 좋아?",
    "미학 이론서 추천해줄래?", "우주 탐사 관련 책 뭐가 있어?", "사회 정책에 관한 책 추천 부탁해", "문화인류학 입문서 추천해줘",
    "종교학 기초서 추천해줄래?", "문헌 정보학 책 뭐가 있어?", "화학 기초서 추천해줄래?", "고대 로마 문학 추천해줄래?",
    "윤리학 고전 추천 부탁해", "천체 물리학 책 추천해줄래?", "초현실주의 미술에 관한 책 추천해줘", "교육학 입문서 추천해줄래?",
    "한국 현대사 다룬 책 추천해줘", "바이오테크놀로지 책 뭐가 있어?", "고전 음악사 책 추천해줄래?", "비즈니스 전략 책 추천 부탁해"
]

# 데이터 저장 리스트
question_data = []

for question in questions:
    # ChatGPT API 호출하여 질문에 대한 추천 도서 생성
    prompt = [
        {"role": "system", "content": "You are a helpful assistant that always responds in the Korean language. When asked for a book recommendation, respond with only the book title without additional explanation."},
        {
            "role": "user",
            "content": f"'{question}'이라는 질문에 대한 적절한 책 제목을 추천해줘."
        }
    ]
        
    response = client.chat.completions.create(
        model="gpt-3.5-turbo-0125",       # 사용할 모델 선택
        messages=prompt,
        max_completion_tokens=50,
        temperature=0.7
    )
    
    # 생성된 추천 도서 제목 추출
    answer = response.choices[0].message.content.strip()
    
    # 질문과 추천 도서 제목(라벨) 저장
    question_data.append({
        "question": question,
        "label": answer
    })

# 데이터프레임으로 변환 후 CSV 파일로 저장
df = pd.DataFrame(question_data)
df.to_csv("question_with_labels_100.csv", index=False)

print("CSV 파일이 성공적으로 생성되었습니다!")